<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Md. Minhazul Haque">
    <meta name="description" content="Ready to download bash/zsh aliases - Generate custom shell aliases for improved productivity">
    <meta name="color-scheme" content="dark">
    <meta name="keywords" content="bash, zsh, shell, aliases, terminal, productivity, developer tools">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="favicon.ico">
    
    <!-- Global site tag (gtag.js) - Google Analytics (UA) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57632461-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);} 
      gtag('js', new Date());
      gtag('config', 'UA-57632461-8', { 'anonymize_ip': true });
    </script>
    
    <meta property="og:image" content="https://repository-images.githubusercontent.com/65431303/50832e82-9d8f-493d-a1a1-9ddda9143042" />
    <meta property="og:title" content="Alias Generator - mdminhazulhaque/alias-generator" />
    <meta property="og:url" content="https://mdminhazulhaque.github.io/alias-generator/" />
    <meta property="og:description" content="Ready to download bash/zsh aliases - Generate custom shell aliases for improved productivity" />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['JetBrains Mono', 'monospace'],
            },
            colors: {
              border: "hsl(var(--border))",
              input: "hsl(var(--input))",
              ring: "hsl(var(--ring))",
              background: "hsl(var(--background))",
              foreground: "hsl(var(--foreground))",
              primary: {
                DEFAULT: "hsl(var(--primary))",
                foreground: "hsl(var(--primary-foreground))",
              },
              secondary: {
                DEFAULT: "hsl(var(--secondary))",
                foreground: "hsl(var(--secondary-foreground))",
              },
              destructive: {
                DEFAULT: "hsl(var(--destructive))",
                foreground: "hsl(var(--destructive-foreground))",
              },
              muted: {
                DEFAULT: "hsl(var(--muted))",
                foreground: "hsl(var(--muted-foreground))",
              },
              accent: {
                DEFAULT: "hsl(var(--accent))",
                foreground: "hsl(var(--accent-foreground))",
              },
              popover: {
                DEFAULT: "hsl(var(--popover))",
                foreground: "hsl(var(--popover-foreground))",
              },
              card: {
                DEFAULT: "hsl(var(--card))",
                foreground: "hsl(var(--card-foreground))",
              },
            },
            borderRadius: {
              lg: "var(--radius)",
              md: "calc(var(--radius) - 2px)",
              sm: "calc(var(--radius) - 4px)",
            },
          },
        },
      }
    </script>
    
    <style>
      :root {
        --background: 224 71% 4%;
        --foreground: 213 31% 91%;
        --card: 224 71% 4%;
        --card-foreground: 213 31% 91%;
        --popover: 224 71% 4%;
        --popover-foreground: 213 31% 91%;
        --primary: 210 40% 98%;
        --primary-foreground: 222.2 47.4% 1.2%;
        --secondary: 222.2 47.4% 11.2%;
        --secondary-foreground: 210 40% 98%;
        --muted: 223 47% 11%;
        --muted-foreground: 215.4 16.3% 56.9%;
        --accent: 216 34% 17%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 63% 31%;
        --destructive-foreground: 210 40% 98%;
        --border: 216 34% 17%;
        --input: 216 34% 17%;
        --ring: 216 34% 17%;
        --radius: 0.5rem;
      }
      
      body {
        font-family: 'Inter', sans-serif;
      }
      
      .checkbox-wrapper input:checked + div {
        background-color: hsl(var(--primary));
        border-color: hsl(var(--primary));
      }
      
      .checkbox-wrapper input:checked + div svg {
        display: block;
      }
    </style>
    
    <title>Alias Generator - Bash/Zsh Shell Aliases</title>
  </head>
  <body class="bg-background text-foreground min-h-screen flex flex-col antialiased selection:bg-primary/20 selection:text-primary">
    
    <!-- Header -->
    <header class="border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50">
      <div class="container mx-auto px-4 py-4 flex items-center justify-between">
        <div class="flex items-center gap-2">
          <i data-lucide="terminal" class="h-6 w-6"></i>
          <span class="font-bold text-xl tracking-tight">Alias Generator</span>
        </div>
        <a href="https://github.com/mdminhazulhaque/alias-generator" target="_blank" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2">
          <i data-lucide="github" class="h-4 w-4"></i>
          <span>GitHub</span>
        </a>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-4 py-12 md:py-20 lg:py-24">
      <div class="max-w-3xl mx-auto text-center space-y-8">
        <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight lg:text-7xl bg-gradient-to-b from-white to-white/60 bg-clip-text text-transparent">
          Boost Your Terminal Productivity
        </h1>
        <p class="text-lg md:text-xl text-muted-foreground max-w-[42rem] mx-auto leading-relaxed">
          Generate and download custom bash/zsh aliases. Select from hundreds of carefully crafted aliases organized by category.
        </p>
        
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4 pt-4">
          <button onclick="download()" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8 shadow-lg shadow-primary/20">
            <i data-lucide="download" class="mr-2 h-4 w-4"></i>
            Download Aliases
          </button>
          
          <div class="flex items-center gap-2">
            <button onclick="do_select_all(true)" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-11 px-4">
              <i data-lucide="check-square" class="mr-2 h-4 w-4"></i>
              Select All
            </button>
            <button onclick="do_select_all(false)" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-11 px-4">
              <i data-lucide="x-square" class="mr-2 h-4 w-4"></i>
              Clear
            </button>
          </div>
        </div>
        
        <div class="inline-flex items-center rounded-full border border-border bg-card px-4 py-1.5 text-sm text-muted-foreground">
          <span class="flex h-2 w-2 rounded-full bg-green-500 mr-2"></span>
          <span id="selected-count" class="font-mono font-medium text-foreground mr-1">0</span> aliases selected
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-4 pb-20 flex-1">
      <div class="columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6">
        {% for key in aliases %}
        <div class="break-inside-avoid">
          <div class="rounded-xl border border-border bg-card text-card-foreground shadow-sm">
            <div class="flex flex-col space-y-1.5 p-6 pb-4 border-b border-border/50">
              <div class="flex items-center justify-between">
                <h3 class="font-semibold leading-none tracking-tight flex items-center gap-2">
                  <i data-lucide="folder" class="h-4 w-4 text-muted-foreground"></i>
                  {{ key }}
                </h3>
                <span id="count-{{ key }}" class="inline-flex items-center rounded-md border border-transparent bg-secondary px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-secondary-foreground">0</span>
              </div>
            </div>
            
            <div class="p-6 pt-4 space-y-3">
              {% for alias in aliases[key] %}
              <label class="checkbox-wrapper flex items-start space-x-3 cursor-pointer group">
                <div class="relative flex items-center">
                  <input type="checkbox" class="peer sr-only {{ key }}" id="{{ key+alias | slug }}" checked>
                  <div class="h-4 w-4 rounded border border-primary text-primary-foreground shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring peer-focus:ring-2 peer-focus:ring-ring/50 transition-all flex items-center justify-center">
                    <svg class="hidden h-3 w-3 text-primary-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                    </svg>
                  </div>
                </div>
                <span class="text-sm font-mono text-muted-foreground group-hover:text-foreground transition-colors break-all leading-tight pt-0.5">
                  {{ alias | replace("alias ","") }}
                </span>
              </label>
              {% endfor %}
            </div>
            
            <div class="flex items-center p-4 pt-0 gap-2 border-t border-border/50 bg-muted/20 rounded-b-xl mt-2">
              <button onclick="do_select('{{ key }}', true)" class="flex-1 inline-flex items-center justify-center rounded-md text-xs font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 px-3">
                All
              </button>
              <div class="w-px h-4 bg-border"></div>
              <button onclick="do_select('{{ key }}', false)" class="flex-1 inline-flex items-center justify-center rounded-md text-xs font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 px-3">
                None
              </button>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </main>

    <!-- Bottom Download Section -->
    <section class="container mx-auto px-4 py-12 md:py-16">
      <div class="max-w-xl mx-auto text-center space-y-6">
        <p class="text-lg text-muted-foreground">
          Ready to boost your productivity?
        </p>
        <button onclick="download()" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8 shadow-lg shadow-primary/20">
          <i data-lucide="download" class="mr-2 h-4 w-4"></i>
          Download Aliases
        </button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-border/40 py-8 bg-muted/20">
      <div class="container mx-auto px-4 text-center">
        <p class="text-sm text-muted-foreground">
          &copy; 2025 Md. Minhazul Haque. All rights reserved.
        </p>
      </div>
    </footer>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none"></div>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // State management
      document.addEventListener('DOMContentLoaded', () => {
        updateAllCounters();
        
        // Add change event listeners to all checkboxes
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
          checkbox.addEventListener('change', updateAllCounters);
        });
      });

      function download() {
        const downloadBtns = document.querySelectorAll('button[onclick="download()"]');
        const originalContents = Array.from(downloadBtns).map(btn => btn.innerHTML);
        
        // Loading state for all download buttons
        downloadBtns.forEach(btn => {
          btn.innerHTML = '<i data-lucide="loader-2" class="mr-2 h-4 w-4 animate-spin"></i> Generating...';
          btn.disabled = true;
        });
        lucide.createIcons();
        
        try {
          const aliases = [];
          const categoryStats = {};
          let selectedCount = 0;
          
          // Collect selected aliases
          document.querySelectorAll("input[type='checkbox']").forEach(checkbox => {
            if (checkbox.checked) {
              selectedCount++;
              const input_id = checkbox.id;
              // Find the label text. In our new structure, it's the span sibling's text
              const labelSpan = checkbox.closest('label').querySelector('span');
              const body = labelSpan.textContent.trim();
              
              // Get category from class (it's the second class usually, but let's be safer)
              // The class list is "peer sr-only {{ key }}"
              // So we can iterate classes and find the one that isn't peer or sr-only
              let category = "";
              checkbox.classList.forEach(cls => {
                if (cls !== 'peer' && cls !== 'sr-only') category = cls;
              });
              
              if (!categoryStats[category]) {
                categoryStats[category] = 0;
              }
              categoryStats[category]++;
              
              let alias;
              if (body.match(/^[a-z_][a-zA-Z0-9_-]*\(\)/)) {
                alias = body;
              } else if (body.includes('=')) {
                alias = body.startsWith('alias ') ? body : `alias ${body}`;
              } else {
                alias = `alias ${body}`;
              }
              
              aliases.push({
                content: alias,
                category: category,
                original: body
              });
            }
          });
          
          if (selectedCount === 0) {
            showToast('Please select at least one alias before downloading.', 'warning');
            downloadBtns.forEach((btn, index) => {
              btn.innerHTML = originalContents[index];
              btn.disabled = false;
            });
            lucide.createIcons();
            return;
          }
          
          // Generate content (same logic as before)
          const now = new Date();
          const timestamp = now.toISOString().replace(/[:.]/g, '-').slice(0, 19);
          const dateString = now.toLocaleDateString('en-US', { 
            year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit'
          });
          
          const header = [
            "#!/bin/bash",
            "#",
            "# Generated by Alias Generator",
            "# https://mdminhazulhaque.github.io/alias-generator/",
            "#",
            `# Generated on: ${dateString}`,
            `# Selected aliases: ${selectedCount}`,
            `# Categories: ${Object.keys(categoryStats).length}`,
            "#",
            "# Usage:",
            "#   1. Save this file (e.g., as ~/.aliases)",
            "#   2. Add to your shell profile (~/.bashrc or ~/.zshrc):",
            "#      source ~/.aliases",
            "#   3. Reload your shell or run: source ~/.bashrc",
            "#",
            ""
          ];
          
          if (Object.keys(categoryStats).length > 1) {
            header.push("# Category breakdown:");
            Object.entries(categoryStats)
              .sort((a, b) => a[0].localeCompare(b[0]))
              .forEach(([category, count]) => {
                header.push(`#   ${category}: ${count} aliases`);
              });
            header.push("#", "");
          }
          
          const categorizedAliases = {};
          aliases.forEach(alias => {
            if (!categorizedAliases[alias.category]) {
              categorizedAliases[alias.category] = [];
            }
            categorizedAliases[alias.category].push(alias.content);
          });
          
          const content = [];
          content.push(...header);
          
          const sortedCategories = Object.keys(categorizedAliases).sort();
          
          sortedCategories.forEach((category, index) => {
            content.push(`# ${category.toUpperCase()} ALIASES`);
            content.push(`# ${categorizedAliases[category].length} aliases`);
            content.push("");
            categorizedAliases[category].forEach(alias => {
              content.push(alias);
            });
            if (index < sortedCategories.length - 1) {
              content.push("", "");
            }
          });
          
          content.push("", "# End of generated aliases");
          
          const filename = `aliases_${timestamp}.sh`;
          const fileContent = content.join("\n");
          const blob = new Blob([fileContent], { type: 'text/plain;charset=utf-8' });
          const url = URL.createObjectURL(blob);
          
          const element = document.createElement('a');
          element.href = url;
          element.download = filename;
          element.style.display = 'none';
          document.body.appendChild(element);
          element.click();
          document.body.removeChild(element);
          
          setTimeout(() => URL.revokeObjectURL(url), 1000);
          
          showToast(`Downloaded ${selectedCount} aliases successfully!`, 'success');
          
          if (typeof gtag !== 'undefined') {
            gtag('event', 'download', {
              'event_category': 'aliases',
              'event_label': 'alias_file',
              'value': selectedCount
            });
          }
          
        } catch (error) {
          console.error('Download error:', error);
          showToast('Error generating download. Please try again.', 'error');
        } finally {
          downloadBtns.forEach((btn, index) => {
            btn.innerHTML = originalContents[index];
            btn.disabled = false;
          });
          lucide.createIcons(); // Re-init icons for the buttons
        }
      }

      function do_select_all(state) {
        document.querySelectorAll("input[type='checkbox']").forEach(checkbox => {
          checkbox.checked = state;
        });
        updateAllCounters();
      }

      function do_select(cardname, state) {
        // cardname is the class name
        document.querySelectorAll(`input.${cardname}`).forEach(checkbox => {
          checkbox.checked = state;
        });
        updateAllCounters();
      }

      function updateAllCounters() {
        const checkboxes = document.querySelectorAll("input[type='checkbox']");
        const checked = document.querySelectorAll("input[type='checkbox']:checked");
        
        document.getElementById('selected-count').textContent = checked.length;
        
        // Update individual card counters
        // We need the list of keys. Since we are in JS, we can't iterate Jinja2 'aliases' directly
        // But we can iterate the DOM elements that have IDs starting with 'count-'
        document.querySelectorAll('[id^="count-"]').forEach(el => {
          const key = el.id.replace('count-', '');
          updateCardCounter(key);
        });
      }

      function updateCardCounter(cardname) {
        const checkedCount = document.querySelectorAll(`input.${cardname}:checked`).length;
        document.getElementById('count-' + cardname).textContent = checkedCount;
      }

      function showToast(message, type = 'info') {
        const container = document.getElementById('toast-container');
        
        const toast = document.createElement('div');
        toast.className = `pointer-events-auto flex items-center w-full max-w-xs p-4 space-x-4 text-sm rounded-lg shadow-lg border animate-in slide-in-from-right-full fade-in duration-300 ${
          type === 'success' ? 'bg-background text-foreground border-border' :
          type === 'error' ? 'bg-destructive text-destructive-foreground border-destructive' :
          'bg-background text-foreground border-border'
        }`;
        
        let icon = '';
        if (type === 'success') icon = '<i data-lucide="check-circle" class="w-5 h-5 text-green-500"></i>';
        else if (type === 'error') icon = '<i data-lucide="alert-circle" class="w-5 h-5"></i>';
        else icon = '<i data-lucide="info" class="w-5 h-5 text-blue-500"></i>';
        
        toast.innerHTML = `
          ${icon}
          <div class="flex-1 font-medium">${message}</div>
          <button onclick="this.parentElement.remove()" class="ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 focus:ring-ring p-1.5 hover:bg-muted inline-flex h-8 w-8 items-center justify-center">
            <i data-lucide="x" class="w-4 h-4"></i>
          </button>
        `;
        
        container.appendChild(toast);
        lucide.createIcons();
        
        // Auto remove
        setTimeout(() => {
          toast.classList.add('animate-out', 'fade-out', 'slide-out-to-right-full');
          setTimeout(() => toast.remove(), 300);
        }, 3000);
      }
    </script>
  </body>
</html>
