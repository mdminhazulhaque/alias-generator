#!/bin/sh

DOMAIN=8.8.8.8
MESSAGE="Link up!"
COUNT=0

while :
do
    ping -c1 -W1 $DOMAIN 2>&1 > /dev/null
    
    if [ $? -eq 0 ]
    then
        kdialog --msgbox "$MESSAGE"
        break
    fi
    
    COUNT=$((COUNT+1))
    
    echo -n "$COUNT "
done
